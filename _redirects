# Netlify Redirects Configuration for Rosehill Group
# Redirects from rosehillpolymers.com to www.rosehill.group

# Force old domain to new subdomain
https://rosehillpolymers.com/* https://www.rosehill.group/:splat 301!
http://rosehillpolymers.com/* https://www.rosehill.group/:splat 301!
https://www.rosehillpolymers.com/* https://www.rosehill.group/:splat 301!
http://www.rosehillpolymers.com/* https://www.rosehill.group/:splat 301!

# Language URL handling - assets first, then SPA shell
# Map language-prefixed asset requests to the root
/fr/*           /:splat                200
/es/*           /:splat                200
/ar/*           /:splat                200

# Serve the SPA shell for language routes  
/fr/*           /index.html            200
/es/*           /index.html            200
/ar/*           /index.html            200

# Language-specific thank-you page redirects with language parameter
/fr/thank-you.html   /thank-you.html?lang=fr   301
/es/thank-you.html   /thank-you.html?lang=es   301  
/ar/thank-you.html   /thank-you.html?lang=ar   301

# Redirect all traffic to HTTPS
http://rosehillgroup.com/* https://rosehillgroup.com/:splat 301!
http://www.rosehillgroup.com/* https://www.rosehillgroup.com/:splat 301!

# Clean URLs - remove .html extension
/about.html /about 301
/contact.html /contact 301
/products.html /products 301
/projects.html /projects 301
/solutions.html /solutions 301

# Serve HTML files without extension
/about /about.html 200
/contact /contact.html 200
/products /products.html 200
/projects /projects.html 200
/solutions /solutions.html 200

# Security: Block WordPress scanner bots (return 410 Gone)
/xmlrpc.php              /404.html  410
/wp-login.php            /404.html  410
/wp-admin/*              /404.html  410
/wp                      /404.html  410
/wordpress               /404.html  410

# Security: Block attack vectors and sensitive file access attempts
/.env                    /404.html  410
/about.php               /404.html  410
/file.php                /404.html  410
/admin.php               /404.html  410
/aa.php                  /404.html  410

# Security: Block directory probing attempts
/old                     /404.html  410
/new                     /404.html  410
/main                    /404.html  410

# AutoDiscover: Email client autodiscovery (redirect to homepage)
/AutoDiscover/autodiscover.xml    /    404

# Legacy pages: Redirect to relevant current pages
/email-disclaimer/       /privacy-policy    301

# Custom 404 page
/* /404.html 404